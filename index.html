<!DOCTYPE html>
<html lang="ja">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-213GPENPBV"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-213GPENPBV');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>マクドナルド訪問記録 - 日本</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.5.3/MarkerCluster.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.5.3/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header>
            <h1>マクドナルド訪問トラッカー - 日本</h1>
            <div class="menu-container">
                <button id="hamburgerButton" aria-label="メニューを開く">☰</button>
                <nav id="sideMenu" class="side-menu">
                    <ul>
                        <li><button id="exportDataButton">訪問データをエクスポート</button></li>
                        <li><button id="importDataButton">訪問データをインポート</button></li>
                        <li><hr></li>
                        <li><button id="eraseDataButton">全訪問データを消去</button></li>
                    </ul>
                </nav>
            </div>
        </header>

        <div class="view-controls">
            <button id="mapViewButton" class="view-toggle-button active">地図表示</button>
            <button id="listViewButton" class="view-toggle-button">リスト表示</button>
        </div>

        <div class="search-container">
            <input type="search" id="searchInput" placeholder="店舗名や住所で検索...">
            <button id="searchButton" aria-label="Search stores">検索</button>
        </div>

        <div class="controls">
            <label for="showUnvisitedCheckbox">
                <input type="checkbox" id="showUnvisitedCheckbox" checked> 未訪問の店舗も表示
            </label>
        </div>

        <div class="visited-counter">
            <p>日本国内で <span id="visitedCount">0</span> 店舗のマクドナルドを訪問しました。</p>
        </div>

        <div id="mapViewContainer">
            <div id="map"></div>
        </div>

        <div id="storeListViewContainer" style="display: none;">
            <!-- Content will be generated by JavaScript -->
        </div>
    </div>

    <input type="file" id="importFileInput" accept=".json" style="display: none;">

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.5.3/leaflet.markercluster.js"></script>
    <script src="script.js"></script>

    <footer>
      <p>
        Created by:
        <a href="https://x.com/k1832_" target="_blank" rel="noopener noreferrer" aria-label="Visit k1832_'s X profile">@k1832_</a>
        on
        <svg class="social-icon-platform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25h6.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
        </svg>
      </p>
    </footer>
</body>
</html>
